# Scrapbox記法リファレンス

このドキュメントは、Scrapbox（Cosense）で使用できる記法のリファレンスです。
Scrapboxの公式ヘルプドキュメントを基に作成されています。

**参考資料:**

- 公式ヘルプ: <https://scrapbox.io/help-jp/>
- Cosenseについて: <https://scrapbox.io/product>
- 株式会社Helpfeel: <https://helpfeel.com/>

**最終更新:** 2026-01-22

## 基本概念

Scrapboxは独自の記法を採用しています。小さな文書同士の関係性を宣言し、より大きく複雑な情報構造を表現するための記法です。

- **ブラケティング**: `[` と `]` で囲むことで、様々な機能を実現
- **リンク中心**: ページ間のリンクを作り、関連ページリストが自動生成される
- **箇条書き中心**: 長文を章立てするより、論理構造を視覚的に表現

## ブラケティング（基本記法）

`[` と `]` でテキストを囲むと、中身に応じて良い感じに表示されます。
**これだけを覚えれば、Scrapboxは十分使いこなせます。**

### 基本ルール

```txt
[ページタイトル]        → ページリンク
[画像URL]              → 画像表示
[https://example.com]  → 外部リンク
[* 強調]               → 文字装飾
```

エディタ内をクリックすると、どう書いているのか見ることができます。

## リンク記法

### ページリンク

同じプロジェクト内のページへのリンクを作成します。

**記法:**

```txt
[ページタイトル]
```

**例:**

```txt
[Cosenseの使い方]
[FAQ]
```

**入力方法:**

- キーボード: `[` を入力するとポップアップが表示され、`tab` / `shift + tab` で選択、`Enter` で決定
- マウス: ポップアップから選択

**空リンク:**

- リンク先のページがまだ存在しない場合、オレンジ色で表示される
- ページ下部の「New Links」欄にまとめて表示される
- ページを作成すると、色が青に変化する

### フラグメント付き内部リンク

ページ内の特定セクションへのリンク。

**記法:**

```txt
[PageTitle#section]
[ページタイトル#セクション]
```

### クロスプロジェクトリンク

別のScrapboxプロジェクトのページへのリンク。

**記法:**

```txt
/プロジェクト名/ページ名
```

**例:**

```txt
[/icons]
[/icons/すごい]
[/help-jp/記法]
```

**フラグメント付き:**

```txt
[/project/page#fragment]
```

### 外部リンク

**URLのみ:**

```txt
https://yahoo.co.jp
```

**表示テキスト付き:**

```txt
[URL タイトル]
[https://yahoo.com Yahoo!]
```

**逆順でもOK:**

```txt
[タイトル URL]
[Yahoo! https://yahoo.com]
```

### リンク付き画像

```txt
[リンク先URL 画像URL]
[http://yahoo.co.jp https://i.gyazo.com/da78df293f9e83a74b5402411e2f2e01.png]
```

**逆順でもOK:**

```txt
[画像URL リンク先URL]
```

### 関連ページリスト

ページの下部に自動的に表示されます。

- リンクしたページと、そのページにリンクしているページのリストが表示される
- ページは存在する必要はない（タグとして自由に書いておける）
- ページタイトル画像を設定すると視覚的に見つけやすくなる

### ページタイトルを変更してもリンクは切れない

Scrapboxでは、ページタイトルを変更してもリンクは自動的に更新されます。

## 箇条書きとインデント

### 基本

行頭にスペースを入力すると中黒が表示され、箇条書きになります。

```txt
通常の行
 箇条書き
  箇条書きのネスト
   さらにネスト
```

**入力方法:**

- 行頭にスペースを入力
- `Tab` キーでも同じことができる

### アウトライン編集

ショートカットキーを使った編集が可能です（詳細は別途参照）。

## 文字装飾記法

強調や斜体などの文字装飾のための記法です。

### 強調（太字）

```txt
[[強調]]              → [[強調]]
[* 強調]              → [* 強調]
[** もっと強調]        → [** もっと強調]
[*** さらに強調]       → [*** さらに強調]
[**** もっと大きな文字] → [**** もっと大きな文字]
```

**注意:**

- 行頭の `[* 見出し]` は見出しとして扱われる（下記「見出し」を参照）
- 文中の `[* 文字列]` は太字として扱われる

### 斜体

```txt
[/ 斜体文字]         → [/ 斜体文字]
[/* 強調斜体文字]    → [/* 強調斜体文字]
```

### 打ち消し線

```txt
[- 打ち消し]         → [- 打ち消し]
[-/*** 打ち消し斜体大きな文字] → [-/*** 打ち消し斜体大きな文字]
```

### その他の装飾

| 記法 | 説明 |
| ------ | ------ |
| `[_ 文字列]` | 下線 |
| `[! 文字列]` | 赤背景（UserCSSで拡張可能） |
| `[# 文字列]` | 緑背景（UserCSSで拡張可能） |
| `[% 文字列]` | 青背景（UserCSSで拡張可能） |

### 上級者向け：UserCSSでの拡張

`*` や `/` だけでなく、`!"#%&'()*+,-./{|}<>_~` などの記号も使用できます。

**注意:** `=` は使わないでください（将来別の用途に使用予定）。

記号は `deco-{ deco-! deco-*` のように、CSS classとして出力されるため、UserCSSを使って自由な見た目を与えることができます。

#### 例：吹き出しスタイル

```txt
[shokai.icon] [{ 吹き出した]
[} 右吹き出しもできる] [rakusai.icon]
```

CSS例:

```css
.deco-\{, .deco-\} {
  font-size: 1em;
  color: #fff;
  background-color: #b2bcba;
  padding: 0.1em 0.2em 0.1em 0.2em;
  border-radius: 0.4em;
  margin: auto 0.3em;
  display: inline-block;
  max-width: calc(100% - 100px);
  vertical-align: top;
}
```

## 見出し

**Scrapboxには見出しを作る機能はありません。**

見出しが作れるほど独立した内容であれば、別のページに切り出す方が良いです。
切り出されたページは再利用性が高まり、複数のページから参照され、関連ページリストのHUBになれる可能性があります。

### 代替手段

画像や文字を大きくする機能は存在します（文字装飾記法を参照）。

**見出し風の表現:**

```txt
[* 見出し]
[** もっと大きな見出し]
[*** さらに大きな見出し]
```

**注意:** これらは行頭に書いた場合のみ見出し風に表示されます。

## 画像

### 画像の基本

画像のURLをエディタ内にペーストすると、自動的にブラケットで囲まれて表示されます。

```txt
[https://i.gyazo.com/da78df293f9e83a74b5402411e2f2e01.png]
```

### 大きな画像表示

横幅いっぱい、高さ制限なしで大きな画像を表示:

```txt
[[画像URL]]
```

### 画像アップロード

**ドラッグアンドドロップ:**

- 画像ファイルを直接エディタにドラッグアンドドロップ
- デフォルトでScrapboxにアップロードされる
- Gyazoにアップロードすることも可能（プロジェクト設定で変更）

**クリップボードからアップロード:**

- Windows: `Ctrl + V`
- Mac: `Command + V`
- 画像編集ソフト、Keynote、PowerPointなどからも直接コピー＆ペースト可能

### Gyazoの画像を貼る

```txt
[https://gyazo.com/画像ID]
```

Gyazoの画像ページのURLをコピーし、Scrapboxにペーストするだけでokです。

### ページタイトル画像

ページ内にある画像のうち、一番上にある物を「ページタイトル画像」と呼びます。

- ページリスト画面や関連ページリストで表示される
- アイコン記法でも表示される

## アイコン記法

`[ページ名.icon]` で、文字と同じサイズでページタイトル画像を埋め込むことができます。

### アイコン記法の基本

```txt
[Cosense.icon]
[shokai.icon]
[rakusai.icon]
```

### 連打

自分のページを設定しておくと、`Ctrl + i` で自分のアイコンを連打できます:

```txt
[shokai.icon*3]
```

### 用途

- 人物のアイコン表示
- チェックボックス: `[check.icon]`
- 発言: `[shokai.icon]「Gyazoを Scrapboxに埋め込む」`
- 意見の表明

### 別プロジェクトのアイコン

```txt
[/icons/炎上.icon]
```

### アイコン記法の入力補完

1. `[]` の中に文字を入力
2. `Tab` や `Shift + Tab` で選択
3. `Enter` でリンクとして入力確定
4. `Ctrl + i` でアイコン記法として入力確定

## コード記法

### インラインコード

バッククオート `` ` `` で囲みます:

```txt
`function() { return 'hello' }`
```

### コードブロック

`code:言語名` または `code:ファイル名` から1段字下げしたブロックがシンタックスハイライトされます。

**言語名を指定:**

```txt
code:alert.js
 (function () {
   alert(document.location.href)
   console.log("hello")
   // コメントも書けるぞ 😳
 })()
```

**ファイル名を指定:**

拡張子で言語が判定されます:

```txt
code:app.rb
 get '/' do |req, res|
   res.send 'hello!!'
 end
```

### ファイルとしての取得

ファイル名があるコードブロックは、テキストデータとして取得できます。

- ファイル名の部分がリンクになります
- ページ内に同名のコードブロックが複数ある場合、1つのファイルとして連結されます

**URL:**

```txt
https://scrapbox.io/api/code/:projectName/:pageTitle/:codeName
```

**例:**

```txt
https://scrapbox.io/api/code/help-jp/コードブロック記法/app.rb
```

## テーブル記法

`table:テーブル名` の後、インデントしてTab区切りで記述します。

```txt
table:テーブルの例
 abc def
 12345 6789
 長い長い文字列 短い文字列
```

**入力方法:**

1. `table:テーブル名` と入力
2. 改行してインデント（スペースまたはTab）
3. Tab キーで列を区切る

## 数式記法

TeX記法で数式を表示できます。

### インライン数式

`[$ 数式 ]` で記述します:

```txt
[$ \sqrt{3 \times 4} ]
[$ \frac{-b \pm \sqrt{b^2-4ac}}{2a} ]
```

**1行に複数の数式:**

```txt
例：[$ 3 \times 2]は[$ 2 \times 3]と同じ
```

**注意:** 数式内に `]` を書く場合は、終端の `]` の左側に半角スペースが必要です:

```txt
[$ [x-3]+a^2 ]
```

### 数式ブロック

コードブロックの言語名に `code:tex` または `code:latex` を指定します:

```txt
code:tex
 \frac
  {-b \pm \sqrt{b^2-4ac}}
  {2a}
```

**複数行にわたる式:**

```txt
code:tex
 L = \int_{b}^{a} \sqrt{ \left( \frac{dx}{dt} \right)^{2}
  + \left( \frac{dy}{dt} \right)^{2} } dt
```

**行列:**

```txt
code:tex
 \begin{pmatrix}
 a & b & c \\
 d & e & f \\
 g & h & i \\
 \end{pmatrix}
```

## 引用

行頭に `>` を書くと引用になります:

```txt
> 行頭に`>`を書くと引用になります
```

## ハッシュタグ

`#ページタイトル` の形式で記述します。

```txt
#tech
#FAQ
#よくある質問
```

### 特徴

- 見た目がリンクと違うだけで、機能は同じ
- 内部的にもリンクと同じ物としてカウントされる
- 主にスペース区切り言語圏（英語等）向けの機能

### 注意

日本では不必要に大量のHashTagを付ける文化がありますが、Scrapboxでは避けた方が良いです。

**悪い例:**

```txt
#tech #技術 #これはすごい
```

理由:

- 本来それほど関係がないページ同士が、全て関連しあっている事になる
- ページがネットワークではなくただの塊になってしまう
- 関連ページリストが機能しなくなる

## Location記法

Google MapsのURLをコピーし、そのままScrapboxにペーストすると地図として埋め込めます。

**記法:**

```txt
[N35.6582536,E139.7443415,Z15 東京タワー]
[N35.6582536,E139.7443415 東京タワー]
```

**元のURL例:**

```txt
https://www.google.com/maps/place/東京タワー/@35.6576943,139.7452035,16z/data=!4m5!3m4!1s0x60188bbd9009ec09:0x481a93f0d2a409dd!8m2!3d35.6585799!4d139.7454339
```

**地図表示例:**

```txt
[N35.6580793,E139.7457577,Z16 東京タワー]
[N35.663094,E139.7653944,Z14 銭湯]
```

**逆でもOK:**

```txt
[東京タワー N35.6580793,E139.7457577,Z16]
[東京タワー N35.6580793,E139.7457577]
```

## Mermaid記法

フローチャート、シーケンス図、ガントチャートなどを書ける作図記法です。

公式サイト: <https://mermaid.js.org/>

### 使い方

コードブロックに `code:mmd`、`code:mermaid`、または `code:ファイル名.mmd` で記述します。

### フローチャート

```txt
code:mermaid
 flowchart LR
     A-- hello -->B
```

### ガントチャート

```txt
code:gantt.mmd
 gantt
     title A Gantt Diagram
     dateFormat YYYY-MM-DD
     section Section
         A task          :a1, 2014-01-01, 30d
         Another task    :after a1, 20d
     section Another
         Task in Another :2014-01-12, 12d
         another task    :24d
```

### シーケンス図

```txt
code:HSTS.mmd
 sequenceDiagram
   participant B as Web Browser
   participant S as Web Server
 
   B->>S: HTTP Request
   S->>B: HTTP Response with HSTS header
   Note over B: Browser recognizes HSTS header and updates its internal HSTS list
   B->>S: HTTPS Request
   S->>B: HTTPS Response with HTML
```

## コールアウト記法

文章の先頭を `?` と半角スペースで始めると、ハイライトされます:

```txt
? Cosenseの使い方を教えてください
```

## コマンドライン

行頭に `$` または `%` を書くとコマンドライン表示になります:

```txt
$ git reset --hard HEAD^
% cp a.txt b.txt
```

## 付録

### Gyazoについて

- スクリーンショット共有サービス
- Cosenseと同じく、株式会社Helpfeelが運営
- Cosenseの画像アップロード先として選択できる

公式サイト: <https://gyazo.com>

**よくある質問:**

- 自分の画像は他の人にも公開されますか？
  - 詳細は Gyazo ヘルプセンターを参照: <https://support.gyazo.com/hc/ja/articles/204158335>

### プロジェクトについて

Scrapboxではワークスペースを「プロジェクト」と呼びます。

- Public Project: 誰でも閲覧可能
- Private Project: メンバーのみ閲覧可能
